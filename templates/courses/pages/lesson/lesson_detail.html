{% extends 'base.html' %}

{% block title %}{% endblock title %}
{% block extra_head %}{% endblock extra_head %}

{% url 'courses:detail' course.slug as coursedtail %}

{% block navbar %}

{% endblock navbar %}


{% block content %}



<section class="bg-white dark:bg-gray-900">
    {% include 'components/navbar.html' %}
        <div class="container mx-auto">
            <div class="lg:flex lg:-mx-2">
                
                <div class=" lg:w-1/5 lg:px-2 ">
       <!-- component -->

<div class="rounded-r bg-gray-900 xl:hidden flex justify-between w-full p-6 items-center">
    
    <div class="flex justify-between  items-center space-x-3">
      <p class="text-2xl leading-6 text-white">Return</p>
    </div>
    <div aria-label="toggler" class="flex justify-center items-center">
      <button aria-label="open" id="open" onclick="showNav(true)" class="hidden focus:outline-none focus:ring-2">
        <svg class="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 6H20" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M4 12H20" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M4 18H20" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <button aria-label="close" id="close" onclick="showNav(true)" class=" focus:outline-none focus:ring-2">
        <svg class="" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M6 6L18 18" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    </div>
  </div>
  <div id="Main" class="xl:rounded-r transform  xl:translate-x-0  ease-in-out transition duration-500 flex justify-start items-start h-full  w-full sm:w-64 bg-zinc-900 flex-col">
   
  
    <div class="hidden xl:flex justify-start p-6 items-center space-x-3">
  
      <a href="{{chapter.course.get_absolute_url}}" class="hover:text-gray-300 text-2xl leading-6 text-white">Return</a>
    </div>
    <div class="mt-6 flex flex-col justify-start items-center  pl-4 w-full border-gray-600 border-b space-y-3 pb-5 ">
      <a href="{{chapter.course.get_absolute_url}}" class="flex jusitfy-start items-center space-x-6 w-full  focus:outline-none  focus:text-indigo-400  text-white rounded ">
  
        <p class="text-base leading-4 ">{{lesson.chapter.course.title}}</p>
    </a>
  
    </div>
    {% for chapter in chapter.course.chapter_set.all %}
    <div class="flex flex-col justify-start items-center   px-6 border-b border-gray-600 w-full  ">
      <button onclick="showMenu1(true)" class="focus:outline-none focus:text-indigo-400 text-left  text-white flex justify-between items-center w-full py-5 space-x-14  ">
        <a href="{{chapter.get_absolute_url}}" class="hover:text-gray-500 text-sm leading-5  ">{{lesson.chapter.chapter_number}}) {{lesson.chapter.title}}</a>
        <svg id="icon1" class="transform" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 15L12 9L6 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <div id="menu1" class="flex justify-start  flex-col w-full md:w-auto items-start pb-1 ">
        {% for lesson in chapter.lesson_set.all %}
   
        <a href="{{lesson.get_absolute_url}}" class="flex justify-start items-center space-x-6 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-3 py-2  w-full md:w-52">
  
          <p class="text-base leading-4  ">{{lesson.title}}</p>
        </a>
      </div>
    </div>
  
    {% endfor %}
    {% endfor %}
  </div>
  
  <script>let icon1 = document.getElementById("icon1");
  let menu1 = document.getElementById("menu1");
  const showMenu1 = (flag) => {
    if (flag) {
      icon1.classList.toggle("rotate-180");
      menu1.classList.toggle("hidden");
    }
  };
  let icon2 = document.getElementById("icon2");
  
  const showMenu2 = (flag) => {
    if (flag) {
      icon2.classList.toggle("rotate-180");
    }
  };
  let icon3 = document.getElementById("icon3");
  
  const showMenu3 = (flag) => {
    if (flag) {
      icon3.classList.toggle("rotate-180");
    }
  };
  
  let Main = document.getElementById("Main");
  let open = document.getElementById("open");
  let close = document.getElementById("close");
  
  const showNav = (flag) => {
    if (flag) {
      Main.classList.toggle("-translate-x-full");
      Main.classList.toggle("translate-x-0");
      open.classList.toggle("hidden");
      close.classList.toggle("hidden");
    }
  };
  </script>
     </div>

<section class="relative w-full h-full">
        <video class=" video-js vjs-16-9"
        id="{{post.id}}"
        controls
        preload="auto"
        data-setup="{'playbackRates': [0.5, 1, 1.5, 2], 'fluid': true}"
        >
        <source src="{{ lesson.video.url }}" type="video/mp4" />
        <p class="vjs-no-js dark:text-dark-txt text-gray-500">
        To view this video please enable JavaScript, and consider upgrading to a
        web browser that
        <a href="https://videojs.com/html5-video-support/" target="_blank"
            >supports HTML5 video</a
        >
        </p>
    </video>
</section>


    


  
   <script src="https://unpkg.com/flowbite@1.4.7/dist/flowbite.js"></script>

                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}


{% block footer %}

{% endblock footer %}


{% block javascript %}

{% endblock javascript %}